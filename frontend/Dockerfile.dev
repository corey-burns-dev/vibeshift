### development Dockerfile for frontend (Bun + Vite dev server)
### Using official Bun image for better dependency handling and reproducibility
FROM oven/bun:latest
WORKDIR /app

# Copy lockfile and package.json first (dependency layer caching)
COPY bun.lock package.json ./

# Install dependencies using Bun with frozen lockfile for reproducibility
# Bun will automatically use bun.lock to ensure consistent versions across environments
RUN bun install --frozen

# Copy application source (node_modules excluded via .dockerignore)
COPY . ./

EXPOSE 5173

# Run Vite dev server with Bun
CMD ["bun", "--bun", "vite", "--host"]